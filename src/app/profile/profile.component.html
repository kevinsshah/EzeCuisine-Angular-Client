<nav class="navbar navbar-dark bg-dark justify-content-between wbdv-navbar">
  <h3 class="navbar-brand">Profile</h3>
  <form class="form-inline">
    <button class="btn btn-outline-light my-2 my-sm-0"
            (click)="logout()"
            type="button">
      Logout
    </button>
    <a routerLink="/home">
      <button class="btn btn-outline-light my-2 my-sm-0"
              type="button">
        Home
      </button>
    </a>
    <a routerLink="/admin">
      <button class="btn btn-outline-light my-2 my-sm-0"
              *ngIf="user['role'] === 'Admin'"
              type="button">
        Admin Page
      </button>
    </a>
  </form>
</nav>

<div class="container-fluid wbdv-profile">

  <div class="wbdv-nav">
    <nav class="nav nav-pills nav-justified">
      <div class="nav-item nav-link"
           [ngClass]="{active: selection === 'Liked Recipes'}"
           (click)="changeSelection('Liked Recipes')">
        Liked Recipes
      </div>
      <div class="nav-item nav-link"
           [ngClass]="{active: selection === 'Rated Recipes'}"
           (click)="changeSelection('Rated Recipes')">
        Rated Recipes
      </div>
      <div class="nav-item nav-link"
           [ngClass]="{active: selection === 'Followers'}"
           (click)="changeSelection('Followers')">
        Followers
      </div>
      <div class="nav-item nav-link"
           [ngClass]="{active: selection === 'Following'}"
           (click)="changeSelection('Following')">
        Following
      </div>
      <div class="nav-item nav-link"
           [ngClass]="{active: selection === 'Update Profile'}"
           (click)="changeSelection('Update Profile')">
        Update Profile
      </div>
    </nav>
  </div>

  <div class="wbdv-selection"
       *ngIf="selection === 'Liked Recipes'">
    <ul class="list-group">
      <li *ngFor="let likedRecipe of likedRecipes"
          (click)="navigateToRecipe(likedRecipe)"
          class="list-group-item wbdv-liked-recipe">
        {{likedRecipe.recipe.name}}
      </li>
    </ul>
  </div>

  <div class="wbdv-selection"
       *ngIf="selection === 'Rated Recipes'">
    <ul class="list-group">
      <li *ngFor="let ratedRecipe of ratedRecipes"
          (click)="navigateToRecipe(ratedRecipe)"
          class="list-group-item wbdv-rated-recipe">
        {{ratedRecipe.recipe.name}}
      </li>
    </ul>
  </div>

  <div class="wbdv-selection"
       *ngIf="selection === 'Followers'">
    <ul class="list-group">
      <li *ngFor="let follower of followers"
          (click)="navigateToFollowerProfile(follower)"
          class="list-group-item wbdv-follower">
        {{follower.from.username}}
      </li>
    </ul>
  </div>

  <div class="wbdv-selection"
       *ngIf="selection === 'Following'">
    <ul class="list-group">
      <li *ngFor="let following of followings"
          (click)="navigateToFollowingProfile(following)"
          class="list-group-item wbdv-following">
        {{following.to.username}}
      </li>
    </ul>
  </div>

  <div class="wbdv-selection"
       *ngIf="selection === 'Update Profile'">
    <div class="alert alert-success alert-dismissible fade show"
         role="alert"
         *ngIf="alertSuccess == true">
      Profile updated successfully.
      <button type="button"
              class="close"
              data-dismiss="alert"
              (click)="removeAlert()"
              aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="form-group">
      <label>Username</label>

      <input readonly
             [(ngModel)]="user['username']"
             placeholder="username"
             class="form-control"/>
    </div>

    <div class="form-group">
      <label>First Name</label>
      <input [(ngModel)]="user['firstName']"
             placeholder="first name"
             class="form-control"/>
    </div>

    <div class="form-group">
      <label>Last Name</label>
      <input [(ngModel)]="user['lastName']"
             placeholder="lastName"
             class="form-control"/>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input [(ngModel)]="user['email']"
             placeholder="email"
             class="form-control"/>
    </div>

    <div class="form-group">
      <label>Role</label>
      <input readonly
             [(ngModel)]="user['role']"
             placeholder="role"
             class="form-control"/>
    </div>

    <button (click)="update(user)"
            class="btn btn-dark btn-block">
      Update
    </button>
  </div>
</div>

